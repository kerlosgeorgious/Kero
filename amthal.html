<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ­Ø¯ÙŠ Ø§Ù„Ø£Ù…Ø«Ø§Ù„</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div class="container">
        <h1>ğŸ“œ ØªØ­Ø¯ÙŠ Ø§Ù„Ø£Ù…Ø«Ø§Ù„</h1>
        <p>ğŸ”„ Ø¯ÙˆØ± Ø§Ù„ÙØ±ÙŠÙ‚: <span id="teamName"></span></p>
        <p>ğŸ† Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="teamScore">0</span></p>
        <p>â³ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: <span id="timer"></span> Ø«Ø§Ù†ÙŠØ©</p>
        <p>ğŸ¯ Ø§Ù„Ø¬ÙˆÙ„Ø§Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©: <span id="currentRound"></span> / <span id="totalRounds"></span></p>

        <div class="question-box">
            <p id="question"></p>
        </div>

        <button id="correctBtn" onclick="answer(true)">âœ… ØµØ­</button>
        <button id="wrongBtn" onclick="answer(false)">âŒ ØºØ´Ø§Ø´</button>

    </div>

    <script>
        let totalRounds = parseInt(localStorage.getItem("selectedRounds")) || 5;
        let timePerRound = parseInt(localStorage.getItem("selectedTime")) || 30;
        let team1 = localStorage.getItem("team1Name") || "Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£ÙˆÙ„";
        let team2 = localStorage.getItem("team2Name") || "Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø«Ø§Ù†ÙŠ";

        let teams = [{ name: team1, score: 0 }, { name: team2, score: 0 }];
        let currentTeamIndex = 0;
        let currentRound = 1;
        let totalQuestions = totalRounds * 2;
        let timer;
        let timeLeft;
        let isAnswered = false;

        let amthal = [
            "Ø§Ù„Ù‚Ø±Ø¯ ÙÙŠ Ø¹ÙŠÙ† Ø£Ù…Ù‡ ØºØ²Ø§Ù„", "Ø¹ØµÙÙˆØ± ÙÙŠ Ø§Ù„ÙŠØ¯ Ø®ÙŠØ± Ù…Ù† Ø¹Ø´Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø¬Ø±Ø©", "Ø§Ù„Ù„ÙŠ Ø§Ø®ØªØ´ÙˆØ§ Ù…Ø§ØªÙˆØ§",
            "Ø¥ÙŠØ¯ Ù„ÙˆØ­Ø¯Ù‡Ø§ Ù…ØªØ³Ù‚ÙØ´", "ÙƒÙ„ ØªØ£Ø®ÙŠØ±Ø© ÙˆÙÙŠÙ‡Ø§ Ø®ÙŠØ±Ø©", "ÙŠØ§ Ø¨Ø®Øª Ù…Ù† Ø¨Ø§Øª Ù…Ø¸Ù„ÙˆÙ… ÙˆÙ„Ø§ Ø¨Ø§Øª Ø¸Ø§Ù„Ù…",
            "Ø§Ù„ÙˆÙ‚Øª ÙƒØ§Ù„Ø³ÙŠÙ Ø¥Ù† Ù„Ù… ØªÙ‚Ø·Ø¹Ù‡ Ù‚Ø·Ø¹Ùƒ", "Ø§Ù„Ø¨Ø¹ÙŠØ¯ Ø¹Ù† Ø§Ù„Ø¹ÙŠÙ† Ø¨Ø¹ÙŠØ¯ Ø¹Ù† Ø§Ù„Ù‚Ù„Ø¨", "Ù…Ù† Ø±Ø§Ù‚Ø¨ Ø§Ù„Ù†Ø§Ø³ Ù…Ø§Øª Ù‡Ù…Ø§",
            "ÙŠØ®Ù„Ù‚ Ù…Ù† Ø§Ù„Ø´Ø¨Ù‡ Ø£Ø±Ø¨Ø¹ÙŠÙ†", "Ø§Ù„Ø­Ø§Ø¬Ø© Ø£Ù… Ø§Ù„Ø§Ø®ØªØ±Ø§Ø¹", "Ø§Ù„Ø¹Ù„Ù… ÙÙŠ Ø§Ù„ØµØºØ± ÙƒØ§Ù„Ù†Ù‚Ø´ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø¬Ø±",
            "Ø§Ù„ØµØ¯ÙŠÙ‚ ÙˆÙ‚Øª Ø§Ù„Ø¶ÙŠÙ‚", "ÙƒÙ…Ø§ ØªØ¯ÙŠÙ† ØªØ¯Ø§Ù†", "Ø§Ù„ØªÙƒØ±Ø§Ø± ÙŠØ¹Ù„Ù… Ø§Ù„Ø´Ø·Ø§Ø±", "Ø¯Ø±Ù‡Ù… ÙˆÙ‚Ø§ÙŠØ© Ø®ÙŠØ± Ù…Ù† Ù‚Ù†Ø·Ø§Ø± Ø¹Ù„Ø§Ø¬",
            "Ù„Ø§ ÙŠÙ‚Ø¹ Ø¥Ù„Ø§ Ø§Ù„Ø´Ø§Ø·Ø±", "Ø¬Ø­Ø§ Ø£ÙˆÙ„Ù‰ Ø¨Ù„Ø­Ù…Ù‡", "Ø§Ù„Ø¶Ø±Ø¨Ø© Ø§Ù„ØªÙŠ Ù„Ø§ ØªÙ‚ØªÙ„Ùƒ ØªÙ‚ÙˆÙŠÙƒ", "Ù…Ù† Ø¬Ø¯ ÙˆØ¬Ø¯ ÙˆÙ…Ù† Ø²Ø±Ø¹ Ø­ØµØ¯",
            "Ø§Ø¶Ø­Ùƒ Ù„Ù„Ø¯Ù†ÙŠØ§ ØªØ¶Ø­ÙƒÙ„Ùƒ", "ÙÙŠ Ø§Ù„ØªØ£Ù†ÙŠ Ø§Ù„Ø³Ù„Ø§Ù…Ø© ÙˆÙÙŠ Ø§Ù„Ø¹Ø¬Ù„Ø© Ø§Ù„Ù†Ø¯Ø§Ù…Ø©", "Ù…Ù† Ø´Ø¨ Ø¹Ù„Ù‰ Ø´ÙŠØ¡ Ø´Ø§Ø¨ Ø¹Ù„ÙŠÙ‡",
            "Ø§Ù„Ø³Ø§ÙƒØª Ø¹Ù† Ø§Ù„Ø­Ù‚ Ø´ÙŠØ·Ø§Ù† Ø£Ø®Ø±Ø³", "Ù„Ø§ ØªØ¤Ø¬Ù„ Ø¹Ù…Ù„ Ø§Ù„ÙŠÙˆÙ… Ø¥Ù„Ù‰ Ø§Ù„ØºØ¯", "Ø±Ø¨ ØµØ¯ÙØ© Ø®ÙŠØ± Ù…Ù† Ø£Ù„Ù Ù…ÙŠØ¹Ø§Ø¯",
            "Ø£Ù‡Ù„ Ù…ÙƒØ© Ø£Ø¯Ø±Ù‰ Ø¨Ø´Ø¹Ø§Ø¨Ù‡Ø§", "Ø§Ù„ØµØ¨Ø± Ù…ÙØªØ§Ø­ Ø§Ù„ÙØ±Ø¬", "Ø§Ù„Ø¹Ù‚Ù„ Ø²ÙŠÙ†Ø©", "Ø§Ù„Ø¬Ø§Ø± Ù‚Ø¨Ù„ Ø§Ù„Ø¯Ø§Ø±",
            "Ù„Ø§ ØªØ¨Ø¹ Ø¬Ù„Ø¯ Ø§Ù„Ø¯Ø¨ Ù‚Ø¨Ù„ ØµÙŠØ¯Ù‡", "Ø¹Ø¯ÙˆÙƒ Ø§Ø¨Ù† ÙƒØ§Ø±Ùƒ", "Ù„Ø§ ÙŠÙ„Ø¯Øº Ø§Ù„Ù…Ø¤Ù…Ù† Ù…Ù† Ø¬Ø­Ø± Ù…Ø±ØªÙŠÙ†",
            "Ø§Ù„ÙˆÙ‚Ø§ÙŠØ© Ø®ÙŠØ± Ù…Ù† Ø§Ù„Ø¹Ù„Ø§Ø¬", "Ø§Ù„Ù†Ø§Ø± ØªØ£ÙƒÙ„ Ù†ÙØ³Ù‡Ø§ Ø¥Ù† Ù„Ù… ØªØ¬Ø¯ Ù…Ø§ ØªØ£ÙƒÙ„Ù‡", "Ø§Ù„Ø±Ø²Ù‚ Ø¹Ù„Ù‰ Ø§Ù„Ù„Ù‡",
            "Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª Ø£Ù† ØªØ·Ø§Ø¹ ÙØ§Ø·Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ·Ø§Ø¹", "Ø£ÙƒØ±Ù… Ù†ÙØ³Ùƒ Ø¹Ù† ÙƒÙ„ Ø¯Ù†ÙŠØ¡", "Ø®Ø° Ø§Ù„Ø­ÙƒÙ…Ø© Ù…Ù† Ø£ÙÙˆØ§Ù‡ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠÙ†",
            "Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù„Ùƒ Ø°Ø§ÙƒØ±Ø© Ù‚ÙˆÙŠØ© ÙˆØ°ÙƒØ±ÙŠØ§Øª Ù…Ø±ÙŠØ±Ø© ÙØ£Ù†Øª Ø£Ø´Ù‚Ù‰ Ø£Ù‡Ù„ Ø§Ù„Ø£Ø±Ø¶"
        ];

        function updateUI() {
            document.getElementById("teamName").textContent = teams[currentTeamIndex].name;
            document.getElementById("teamScore").textContent = teams[currentTeamIndex].score;
            document.getElementById("currentRound").textContent = currentRound;
            document.getElementById("totalRounds").textContent = totalRounds * 2;
        }

        function startTimer() {
            clearInterval(timer);
            timeLeft = timePerRound;
            document.getElementById("timer").textContent = timeLeft;

            timer = setInterval(() => {
                if (timeLeft > 0) {
                    timeLeft--;
                    document.getElementById("timer").textContent = timeLeft;
                } else {
                    clearInterval(timer);
                    nextTurn();
                }
            }, 1000);
        }

        function getRandomQuestion() {
            let randomIndex = Math.floor(Math.random() * amthal.length);
            document.getElementById("question").textContent = amthal[randomIndex];
        }

        function answer(isCorrect) {
            if (isAnswered) return;
            isAnswered = true;

            clearInterval(timer);

            if (isCorrect) {
                teams[currentTeamIndex].score += 3;
                document.getElementById("teamScore").textContent = teams[currentTeamIndex].score;
            }

            document.getElementById("correctBtn").disabled = true;
            document.getElementById("wrongBtn").disabled = true;

            setTimeout(nextTurn, 1000);
        }

        function nextTurn() {
            isAnswered = false;
            document.getElementById("correctBtn").disabled = false;
            document.getElementById("wrongBtn").disabled = false;

            if (currentRound < totalQuestions) {
                currentRound++;
                currentTeamIndex = (currentTeamIndex + 1) % teams.length;
                getRandomQuestion();
                updateUI();
                startTimer();
            } else {
                endGame();
            }
        }

        function endGame() {
            localStorage.setItem("finalScore1", teams[0].score);
            localStorage.setItem("finalScore2", teams[1].score);
            setTimeout(() => {
                window.location.href = "results.html";
            }, 3000);
        }

        document.addEventListener("DOMContentLoaded", function () {
            updateUI();
            getRandomQuestion();
            startTimer();
        });
    </script>
</body>
</html>